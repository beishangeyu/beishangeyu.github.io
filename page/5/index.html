<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"hide","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="��ʵ�Ǿ�ֽ">
<meta property="og:type" content="website">
<meta property="og:title" content="Eyu&#39;s Blog">
<meta property="og:url" content="http://example.com/page/5/index.html">
<meta property="og:site_name" content="Eyu&#39;s Blog">
<meta property="og:description" content="��ʵ�Ǿ�ֽ">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="beishangeyu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Eyu's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Eyu's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1794C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1794C/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-01 19:07:09" itemprop="dateModified" datetime="2023-10-01T19:07:09+08:00">2023-10-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Scoring-Subsequences"><a href="#Scoring-Subsequences" class="headerlink" title="Scoring Subsequences"></a>Scoring Subsequences</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>定义序列 $[s_1,s_2,\cdots,s_d]$ 的<em>得分</em>为<br>$$\frac{s_1 \cdot s_2 \cdot \dots \cdot s_d}{d!}$$</p>
<p>特别地，空序列的得分为 $1$。</p>
<p>定义序列 $[s_1,s_2,\cdots,s_d]$ 的<em>花费</em>为原序列中取得最大得分的所有子序列，其中最长的一个子序列的长度。</p>
<p>给定单调不减序列 $[a_1,a_2,\dots,a_n]$，对每个 $k&#x3D;1,2,\cdots n$，求 $[a_1,a_2,\cdots ,a_k]$ 的花费。</p>
<p>规定某个序列的子序列是从最初序列通过去除某些元素但不破坏余下元素的相对位置（在前或在后）而形成的新序列。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>The score of a sequence $ [s_1, s_2, \ldots, s_d] $ is defined as $ \displaystyle \frac{s_1\cdot s_2\cdot \ldots \cdot s_d}{d!} $ , where $ d!&#x3D;1\cdot 2\cdot \ldots \cdot d $ . In particular, the score of an empty sequence is $ 1 $ .</p>
<p>For a sequence $ [s_1, s_2, \ldots, s_d] $ , let $ m $ be the maximum score among all its subsequences. Its cost is defined as the maximum length of a subsequence with a score of $ m $ .</p>
<p>You are given a non-decreasing sequence $ [a_1, a_2, \ldots, a_n] $ of integers of length $ n $ . In other words, the condition $ a_1 \leq a_2 \leq \ldots \leq a_n $ is satisfied. For each $ k&#x3D;1, 2, \ldots , n $ , find the cost of the sequence $ [a_1, a_2, \ldots , a_k] $ .</p>
<p>A sequence $ x $ is a subsequence of a sequence $ y $ if $ x $ can be obtained from $ y $ by deletion of several (possibly, zero or all) elements.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 10^4 $ ). The description of the test cases follows.</p>
<p>The first line of each test case contains an integer $ n $ ( $ 1\le n\le 10^5 $ ) — the length of the given sequence.</p>
<p>The second line of each test case contains $ n $ integers $ a_1,a_2,\ldots,a_n $ ( $ 1\le a_i\leq n $ ) — the given sequence. It is guaranteed that its elements are in non-decreasing order.</p>
<p>It is guaranteed that the sum of $ n $ over all test cases does not exceed $ 5\cdot 10^5 $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, output $ n $ integers — the costs of sequences $ [a_1, a_2, \ldots , a_k] $ in ascending order of $ k $ .</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">3</span><br><span class="line">1 2 3</span><br><span class="line">2</span><br><span class="line">1 1</span><br><span class="line">5</span><br><span class="line">5 5 5 5 5</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 1 2 </span><br><span class="line">1 1 </span><br><span class="line">1 2 3 4 5</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>得分 &#x3D; $\Large{\frac{s_1\cdot s_2 \cdot…\cdot s_k}{k!}}$ ,  对于序列 a , 我们进行一下变形得到 a’ : $\Large \frac{a_1}{k}$ , $\Large \frac{a_2}{k-1}$ , … $\Large \frac{a_n}{1}$ </p>
<p>我们发现 $\Large \frac{a_1}{k}\cdot\frac{a_2}{k-1}\cdot\frac{a_3}{k-2}\cdot…\cdot\frac{a_k}{1}&#x3D;     \frac{a_1\cdot a_2\cdot…\cdot a_n}{k!}$ , 且变形后的序列 a’ 仍是单调非递减的</p>
<p>为了让长度最大, 我们要包含所有 a’ 中 $\ge 1$ 的所有项</p>
<p>因为 a’ 具有单调性, 对于每一个k, 我们可以用二分找到第一个 $\ge 1$ 的项, 然后就能得到最长的长度</p>
<p>其实也包含了贪心的思想</p>
<p><strong>!</strong>: 为了避免精度的误差, 条件 $\large\frac{a_i}{k-i+1}\ge1$ 应写为 $a_i\ge k-i+1$ </p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; a[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> l = <span class="number">1</span>, r = i;</span><br><span class="line">            <span class="comment">//二分的判断条件由希望找到的区间边界性质决定</span></span><br><span class="line">			<span class="keyword">while</span> (l &lt; r)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> mid = l + r &gt;&gt; <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span> (a[mid] &gt;= i - mid + <span class="number">1</span>) r = mid;</span><br><span class="line">				<span class="keyword">else</span> l = mid + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			cout &lt;&lt; i - l + <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1794B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1794B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-01 16:51:51" itemprop="dateModified" datetime="2023-10-01T16:51:51+08:00">2023-10-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Not-Dividing"><a href="#Not-Dividing" class="headerlink" title="Not Dividing"></a>Not Dividing</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>$ T $ 组数据，每次给定 $ n $ 个正整数 $ a_i $。</p>
<p>任选一个 $ a_i $，令 $ a_i \gets a_i + 1 $，被称为一次操作。</p>
<p>要求进行至多 $2n$ 次操作后，对 $ i &#x3D; 1, 2, \cdots n - 1 $，$ a_{i + 1} \mod a_i \neq 0 $。</p>
<p>输出操作结束后的 $a_i$，符合以上要求。</p>
<p>题目保证 $1 \le T \le {10}^4$，$1 \le n \le {10}^4$，$1 \le \Sigma \space n \le 5 \cdot {10}^4 $。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>You are given an array of $ n $ positive integers $ a_1, a_2, \ldots, a_n $ . In one operation, you can choose any number of the array and add $ 1 $ to it.</p>
<p>Make at most $ 2n $ operations so that the array satisfies the following property: $ a_{i+1} $ is not divisible by $ a_i $ , for each $ i &#x3D; 1, 2, \ldots, n-1 $ .</p>
<p>You do not need to minimize the number of operations.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 10^4 $ ). The description of the test cases follows.</p>
<p>The first line of each test case contains an integer $ n $ ( $ 1\le n\le 10^4 $ ) — the length of the given array.</p>
<p>The second line of each test case contains $ n $ integers $ a_1,a_2,\ldots,a_n $ ( $ 1\le a_i\leq 10^9 $ ) — the given array.</p>
<p>It is guaranteed that the sum of $ n $ over all test cases does not exceed $ 5\cdot 10^4 $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, print the answer on a separate line.</p>
<p>In the only line, print $ n $ integers — the resulting array $ a $ after applying at most $ 2n $ operations.</p>
<p>We can show that an answer always exists under the given constraints. If there are multiple answers, print any of them.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4</span><br><span class="line">2 4 3 6</span><br><span class="line">3</span><br><span class="line">1 2 3</span><br><span class="line">2</span><br><span class="line">4 2</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4 5 6 7</span><br><span class="line">3 2 3</span><br><span class="line">4 2</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>$a_{i+1}$ 不能被 $a_i$ 整除, 有什么性质呢, 我们很自然的就可以想到$a_{i+1}$ 和 $a_i$ 的最小公倍数就应该是他们两个的乘积, 那我们遍历数组 $a$, 如果 $lcm(a_i,a_{i+1})\neq a_i\times a_{i+1}$ , 那么我们就让 $a_i$ 加一直到满足 $a_{i+1}$ 和 $a_i$ 的最小公倍数是他们两个的乘积 </p>
<p>存在特殊情况是 $a_i&#x3D;1$ 的时候, 也满足和 $a_{i+1}$ 的最小公倍数是他俩的乘积, 但是任何数都可以被1整除, 解决方法也很简单, 在读入的时候如果遇上1就加上1让它变成2就可以了</p>
<p><strong>!</strong>: $a_i$ 是 $10^9$ 级, 求公倍数会爆int, 要开long long存</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> ULL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e4</span> + <span class="number">10</span>;</span><br><span class="line">ULL a[N];</span><br><span class="line"></span><br><span class="line"><span class="function">ULL <span class="title">gcd</span><span class="params">(ULL a, ULL b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULL <span class="title">lcm</span><span class="params">(ULL a, ULL b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> (a * b) / <span class="built_in">gcd</span>(a, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; a[i];</span><br><span class="line">			<span class="keyword">if</span> (a[i] == <span class="number">1</span>) a[i]++;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			ULL mlcm = <span class="built_in">lcm</span>(a[i], a[i - <span class="number">1</span>]);</span><br><span class="line">			<span class="keyword">if</span> (mlcm != a[i] * a[i - <span class="number">1</span>])</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; <span class="built_in">lcm</span>(a[i], a[i - <span class="number">1</span>]) != a[i] * a[i - <span class="number">1</span>]; i++)</span><br><span class="line">					a[i]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">			cout &lt;&lt; a[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1794A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1794A/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-01 16:04:46" itemprop="dateModified" datetime="2023-10-01T16:04:46+08:00">2023-10-01</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Prefix-and-Suffix-Array"><a href="#Prefix-and-Suffix-Array" class="headerlink" title="Prefix and Suffix Array"></a>Prefix and Suffix Array</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>马科斯非常喜爱字符串，他有一个最爱的字符串 $s$，里面只由小写英文字母组成。</p>
<p>对于这个字符串 $s$，马科斯在一张纸上胡乱写下了 $s$ 的所有<strong>非空真前缀子串</strong>和<strong>非空真后缀子串</strong>（因为是胡乱写下的，所以这并没有什么顺序）。你看到了这张纸，看到了写在上面的所有字符串，现在你很好奇：马科斯最爱的字符串 $s$ 是不是一个<strong>回文串</strong>。</p>
<p>你的任务是：利用字符串 $s$ 的所有<strong>非空真前缀子串</strong>和<strong>非空真后缀子串</strong>，判断 $s$ 是否是一个<strong>回文串</strong>。</p>
<p>一个字符串 $a$ 是另一个字符串 $b$ 的<strong>非空真前缀子串</strong>，当且仅当从 $b$ 的末尾删去一部分后，剩下的一部分就是 $a$。</p>
<p>一个字符串 $a$ 是另一个字符串 $b$ 的<strong>非空真后缀子串</strong>，当且仅当从 $b$ 的开头删去一部分后，剩下的一部分就是 $a$。</p>
<p>一个<strong>回文串</strong>从前往后读和从后往前读是一模一样的。例如，字符串 $\texttt{gg}$，$\texttt{ioi}$，$\texttt{abba}$，$\texttt{icpci}$ 是回文串，而字符串 $\texttt{codeforces}$，$\texttt{abcd}$，$\texttt{alt}$ 不是回文串。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Marcos loves strings a lot, so he has a favorite string $ s $ consisting of lowercase English letters. For this string, he wrote down all its non-empty prefixes and suffixes (except for $ s $ ) on a piece of paper in arbitrary order. You see all these strings and wonder if Marcos’ favorite string is a palindrome or not. So, your task is to decide whether $ s $ is a palindrome by just looking at the piece of paper.</p>
<p>A string $ a $ is a prefix of a string $ b $ if $ a $ can be obtained from $ b $ by deletion of several (possibly, zero or all) characters from the end.</p>
<p>A string $ a $ is a suffix of a string $ b $ if $ a $ can be obtained from $ b $ by deletion of several (possibly, zero or all) characters from the beginning.</p>
<p>A palindrome is a string that reads the same backward as forward, for example, strings “gg”, “ioi”, “abba”, “icpci” are palindromes, but strings “codeforces”, “abcd”, “alt” are not.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test consists of multiple test cases. The first line contains a single integer $ t $ ( $ 1 \le t \le 120 $ ) — the number of test cases. The description of test cases follows.</p>
<p>The first line of each test case contains a single integer $ n $ ( $ 2\le n \le 20 $ ) — the length of the string $ s $ .</p>
<p>The second line of each test case contains $ 2n-2 $ strings $ a_1, a_2, \cdots, a_{2n-2} $ — all non-empty prefixes and suffixes of $ s $ , not including itself, in arbitrary order.</p>
<p>It is guaranteed that these strings are all the non-empty prefixes and suffixes of some string consisting of lowercase English letters.</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, output “YES” if $ s $ is a palindrome, and “NO” otherwise.</p>
<p>You can output the answer in any case (upper or lower). For example, the strings “yEs”, “yes”, “Yes”, and “YES” will be recognized as positive responses.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">4</span><br><span class="line">bcd cd a d abc ab</span><br><span class="line">3</span><br><span class="line">i io i oi</span><br><span class="line">2</span><br><span class="line">g g</span><br><span class="line">3</span><br><span class="line">t al lt a</span><br><span class="line">4</span><br><span class="line">bba a ab a abb ba</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">YES</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>回文串的定义就是一个字符串从前往后读跟从后往前读是一样的, 那么比如s是一个回文串, 我把s的尾部字符删了得到s1, 把s的头部字符删了得到s2, 从前往后跟从后往前读是一样的, 那么不就说明s1 &#x3D; s2.reverse() 吗</p>
<p>那我们我就得出s是回文串当且仅当s1 &#x3D; s2.reverse()</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">string s[<span class="number">110</span>];</span><br><span class="line"><span class="type">int</span> len[<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(string a, string b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> p = a.<span class="built_in">size</span>(), q = b.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> p &gt; q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n - <span class="number">2</span>; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; s[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">sort</span>(s, s + <span class="number">2</span> * n - <span class="number">2</span>, cmp);</span><br><span class="line"></span><br><span class="line">		string s1 = s[<span class="number">0</span>], s2 = s[<span class="number">1</span>];</span><br><span class="line">		<span class="type">int</span> i = <span class="number">0</span>, j = s2.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">while</span> (i &lt; j)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">swap</span>(s2[i], s2[j]);</span><br><span class="line">			i++, j--;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (s1 == s2) cout &lt;&lt; <span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">		<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1793C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1793C/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-04 11:03:30" itemprop="dateModified" datetime="2023-10-04T11:03:30+08:00">2023-10-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Dora-and-Search"><a href="#Dora-and-Search" class="headerlink" title="Dora and Search"></a>Dora and Search</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>给定一个长度为 $n$ 的排列 $a$ ，问是否存在正整数 $l,r$ 使得 $a_l,a_r$ 均不为 $a_{l…r}$ 中的最大值或最小值。</p>
<h3 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h3><p>第一行一个正整数 $t$ ，表示数据组数。接下来对于每组数据输入包括两行，第一行一个正整数 $n$ ，第二行 $n$ 个正整数代表排列 $a$ 。<br>对于每组数据，若存在符合要求的 $l,r$ ，输出任意一组。若不存在则输出 $-1$ 。</p>
<h3 id="数据范围"><a href="#数据范围" class="headerlink" title="数据范围"></a>数据范围</h3><p>$1\leqslant t \leqslant 10\ 000\ ,\ 1\leqslant \Sigma n \leqslant 200\ 000\ ,\ $ $a$ 是一个排列。</p>
<h2 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h2><p>As you know, the girl Dora is always looking for something. This time she was given a permutation, and she wants to find such a subsegment of it that none of the elements at its ends is either the minimum or the maximum of the entire subsegment. More formally, you are asked to find the numbers $ l $ and $ r $ $ (1 \leq l \leq r \leq n) $ such that $ a_l \neq \min(a_l, a_{l + 1}, \ldots, a_r) $ , $ a_l \neq \max(a_l, a_{l + 1}, \ldots, a_r) $ and $ a_r \neq \min(a_l, a_{l + 1}, \ldots, a_r) $ , $ a_r \neq \max(a_l, a_{l + 1}, \ldots, a_r) $ .</p>
<p>A permutation of length $ n $ is an array consisting of $ n $ distinct integers from $ 1 $ to $ n $ in any order. For example, $ [2,3,1,5,4] $ is a permutation, but $ [1,2,2] $ is not a permutation ( $ 2 $ occurs twice in the array) and $ [1,3,4] $ is also not a permutation ( $ n&#x3D;3 $ , but $ 4 $ is present in the array).</p>
<p>Help Dora find such a subsegment, or tell her that such a subsegment does not exist.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test consists of multiple test cases. The first line contains a single integer $ t $ ( $ 1 \leq t \leq 10^4 $ ) — the number of test cases. Description of the test cases follows.</p>
<p>For each test case, the first line contains one integer $ n $ ( $ 1 \leq n \leq 2 \cdot 10^5 $ ) — the length of permutation.</p>
<p>The second line contains $ n $ distinct integers $ a_1, a_2, \ldots, a_n $ ( $ 1 \leq a_i \leq n $ ) — the elements of permutation.</p>
<p>It is guarented that the sum of $ n $ over all test cases doesn’t exceed $ 2 \cdot 10^5 $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, output $ -1 $ if the desired subsegment does not exist.</p>
<p>Otherwise, output two indexes $ l, r $ such that $ [a_{l}, a_{l + 1}, \ldots, a_{r}] $ satisfies all conditions.</p>
<p>If there are several solutions, then output any of them.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3</span><br><span class="line">1 2 3</span><br><span class="line">4</span><br><span class="line">2 1 4 3</span><br><span class="line">7</span><br><span class="line">1 3 2 4 6 5 7</span><br><span class="line">6</span><br><span class="line">2 3 6 5 4 1</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br><span class="line">1 4</span><br><span class="line">2 6</span><br><span class="line">-1</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>给了一个只含有元素1到n且两两不同的数组, 要求我们找出一段子区间, 子区间端点不是这段子区间的最值</p>
<p>首先我们要想明白, 随着区间的缩短, 区间最大值单调不升, 区间最小值单调不降, 那么对于一段区间而言如果它不合法, 那我们就试着排掉不合法的端点, 缩小区间, 直到区间合法或者答案不存在</p>
<p>具体的做法是: 我们先尝试全选, 因为序列一定含有1到n, 所以很明显全选的最大值是n, 最小值是n, 如果端点不等于最值, 那么我们直接选, 如果其中一个端点a等于最值, 例如等于n, 那么我们操作a(加1或者减1)缩小区间, 同时因为等于n的点被排除在外了, 剩下的点的最大值肯定就是n-1, 我们再进行对端点进行判断, 重复直到找到答案或者明确答案不存在</p>
<p><strong>一些心得</strong>: 我就说只含有1到n是个解题很关键的性质, 我们可以确定整段序列上的最大值和最小值是n和1, 并且如果我们删除了n, 那我们就知道最大值就会变成n-1</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			cin &gt;&gt; a[i];</span><br><span class="line"></span><br><span class="line">		<span class="type">int</span> l = <span class="number">1</span>, r = n, minn = <span class="number">1</span>, maxn = n;</span><br><span class="line">		<span class="keyword">while</span> (l &lt; r)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="comment">//等于极值, 区间缩小, 且极值被排除在外</span></span><br><span class="line">			<span class="keyword">if</span> (a[l] == minn) &#123; l++, minn++; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (a[l] == maxn) &#123; l++, maxn--; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (a[r] == minn) &#123; r--, minn++; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (a[r] == maxn) &#123; r--, maxn--; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (l &lt; r) cout &lt;&lt; l &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; r;</span><br><span class="line">		<span class="keyword">else</span> cout &lt;&lt; <span class="number">-1</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1793B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1793B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-04 09:45:55" itemprop="dateModified" datetime="2023-10-04T09:45:55+08:00">2023-10-04</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Fedya-and-Array"><a href="#Fedya-and-Array" class="headerlink" title="Fedya and Array"></a>Fedya and Array</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>有一个 $n$ 个元素的序列 $a$，元素首尾相连排成圆环，任意两个相邻元素间差的绝对值等于 $1$。定义一个局部最小值为<strong>同时</strong>小于左右两个相邻元素的元素值，一个局部最大值为<strong>同时</strong>大于左右两个相邻元素的元素值。</p>
<p><strong>注意，元素 $a_n$ 和 元素 $a_1$ 是相邻元素。</strong></p>
<p>给定序列 $a$ 中<strong>所有</strong>局部最大值的和以及序列 $a$ 中<strong>所有</strong>局部最小值的和，请还原出<strong>元素个数最少</strong>的数组 $a$。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>For his birthday recently Fedya was given an array $ a $ of $ n $ integers arranged in a circle, For each pair of neighboring numbers ( $ a_1 $ and $ a_2 $ , $ a_2 $ and $ a_3 $ , $ \ldots $ , $ a_{n - 1} $ and $ a_n $ , $ a_n $ and $ a_1 $ ) the absolute difference between them is equal to $ 1 $ .</p>
<p>Let’s call a local maximum an element, which is greater than both of its neighboring elements. Also call a local minimum an element, which is less than both of its neighboring elements. Note, that elements $ a_1 $ and $ a_n $ are neighboring elements.</p>
<p>Unfortunately, Fedya lost an array, but he remembered in it the sum of local maximums $ x $ and the sum of local minimums $ y $ .</p>
<p>Given $ x $ and $ y $ , help Fedya find any matching array of minimum length.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 1000 $ ). Description of the test cases follows.</p>
<p>Each line of each test case contain two integers $ x $ and $ y $ ( $ -10^{9} \le y &lt; x \le 10^{9} $ ) — the sum of local maximums and the sum of local minimums, respectively.</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, in the first line print one integer $ n $ — the minimum length of matching arrays.</p>
<p>In the second line print $ n $ integers $ a_1, a_2, \ldots, a_n $ ( $ -10^{9} \leqslant a_i \leqslant 10^{9} $ ) — the array elements such that the the absolute difference between each pair of neighboring is equal to $ 1 $ .</p>
<p>If there are multiple solutions, print any of them.</p>
<p>It is guaranteed that the sum of $ n $ over all test cases does not exceed $ 2 \cdot 10^{5} $ .</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3 -2</span><br><span class="line">4 -4</span><br><span class="line">2 -1</span><br><span class="line">5 -3</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">0 1 2 1 0 -1 0 -1 0 1</span><br><span class="line">16</span><br><span class="line">-2 -1 -2 -1 0 1 2 3 4 5 4 3 2 1 0 -1 </span><br><span class="line">6</span><br><span class="line">1 0 -1 0 1 0</span><br><span class="line">16</span><br><span class="line">2 3 2 1 0 -1 0 -1 0 -1 0 1 2 1 0 1</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>是一道数学构造题</p>
<p>要求构造出一个环, 相邻元素差为1, 且所有比左右两个数都大的数的和为 $x$, 所有比左右两个数都小的数的和为 $y$</p>
<p>以 $x&#x3D;3$ , $y&#x3D;-2$ 为例: </p>
<ol>
<li><p>3是由一个局部最大值构成, -2是由一个局部最小值构成, 那么就是0到3, 3到-2, -2到2, 这样构造出来的数组的长度就是 $(x-y)\times2$ , 因为对于任意的 $x$ 和 $y$ 来说都可以这样分解, 所以对于任意的 $x$ 和 $y$ 来说都适用</p>
</li>
<li><p>3是由多个局部最大值组成, 那么就可以是0到2, 2到0, 0到1, 1到0, 0到-2, -2到-1, 此时数组的长度就是</p>
<p>$\sum_{i &#x3D; 1}^{i\le n} x_i\times2$, 对于 $y$ 同理, 不难看出第二种构造方法的长度与第一种是相同的</p>
</li>
</ol>
<p>这两种构造都是能使长度最短的, 我们采取比较好写的第一种</p>
<p><strong>!</strong>: 但是有可能 $x$ 和 $y$ 都大于0或者小于0, 所以我们不能从0开始, 要从 $x$ 或者 $y$ 开始, 记得保证首尾差值为1</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> x, y; cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">		cout &lt;&lt; (x - y) * <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">		</span><br><span class="line">		<span class="type">int</span> i;</span><br><span class="line">		<span class="keyword">for</span> (i = x; i &gt; y; i--)</span><br><span class="line">			cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		<span class="keyword">for</span> (; i &lt; x; i++)</span><br><span class="line">			cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">		cout &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1789C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1789C/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-02 17:18:51" itemprop="dateModified" datetime="2023-10-02T17:18:51+08:00">2023-10-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Serval-and-Toxel’s-Arrays"><a href="#Serval-and-Toxel’s-Arrays" class="headerlink" title="Serval and Toxel’s Arrays"></a>Serval and Toxel’s Arrays</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>给你一个零时刻的长度为 $n$ 的数组 $a_i$。</p>
<p>时刻 $i\ (1 \le i \le m)$ 的数组是在时刻 $i-1$ 的基础上把位置 $p_i$ 的数改成 $v_i$ 得到的。</p>
<p>现在让你求出 $\sum_{i&#x3D;0}^m \sum_{j&#x3D;i+1}^m f(i,j)$，其中 $f(i,j)$ 的值为时刻 $i$ 和时刻 $j$ 的数组拼起来后一共有几种数字。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Toxel likes arrays. Before traveling to the Paldea region, Serval gave him an array $ a $ as a gift. This array has $ n $ pairwise distinct elements.</p>
<p>In order to get more arrays, Toxel performed $ m $ operations with the initial array. In the $ i $ -th operation, he modified the $ p_{i} $ -th element of the $ (i-1) $ -th array to $ v_{i} $ , resulting in the $ i $ -th array (the initial array $ a $ is numbered as $ 0 $ ). During modifications, Toxel guaranteed that the elements of each array are still pairwise distinct after each operation.</p>
<p>Finally, Toxel got $ m+1 $ arrays and denoted them as $ A_{0}&#x3D;a, A_{1},\ldots,A_{m} $ . For each pair $ (i,j) $ ( $ 0\le i&lt;j\le m $ ), Toxel defines its value as the number of distinct elements of the concatenation of $ A_{i} $ and $ A_{j} $ . Now Toxel wonders, what is the sum of the values of all pairs? Please help him to calculate the answer.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1\le t\le10^{4} $ ). The description of the test cases follows.</p>
<p>The first line of each test case contains two integers $ n $ and $ m $ ( $ 1\le n,m\le2\cdot10^{5} $ ) — the length of the array and the number of operations.</p>
<p>The second line of each test case contains $ n $ integers $ a_{1},a_{2},\dots,a_{n} $ ( $ 1\le a_{i}\le n+m $ ). It is guaranteed that all $ a_i $ are pairwise distinct.</p>
<p>Each of the next $ m $ lines of each test case contains two integers $ p_{i} $ and $ v_{i} $ ( $ 1\le p_{i}\le n $ , $ 1\le v_{i}\le n+m $ ) — the position of the modified element and its new value. It is guaranteed that the elements of each array are still pairwise distinct after each modification.</p>
<p>It is guaranteed that the sum of $ n $ and the sum of $ m $ over all test cases do not exceed $ 2\cdot10^{5} $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, print a single integer — the sum of the values of all pairs of arrays.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">3 2</span><br><span class="line">1 2 3</span><br><span class="line">1 4</span><br><span class="line">2 5</span><br><span class="line">1 1</span><br><span class="line">1</span><br><span class="line">1 1</span><br><span class="line">10 10</span><br><span class="line">4 6 9 12 16 20 2 10 19 7</span><br><span class="line">1 3</span><br><span class="line">5 4</span><br><span class="line">2 17</span><br><span class="line">2 18</span><br><span class="line">6 11</span><br><span class="line">7 1</span><br><span class="line">8 17</span><br><span class="line">5 5</span><br><span class="line">5 5</span><br><span class="line">2 2</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">13</span><br><span class="line">1</span><br><span class="line">705</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>定义 $(i,j)$ 是把第 $i$ 时刻的数组 $A_i$ 和第 $j$ 时刻的数组 $A_j$ 合起来, 问有几个不同的数, 即去重之后剩下几个数</p>
<p>暴力做法会TLE, 想到我之前写的那道题也是从每个数的贡献入手, 这道题也可以这么做,</p>
<p>因为保证了每个时刻的数组A内元素都是两两不同的, 我们可以统计数字x的出现次数记为 $cnt_x$, 也就是在 $cnt_x$ 个 $A$ 中出现了, 那么就剩下 $m+1-cnt_x$ 个 $A$ 中没有出现 $x$ 的, 记出现 $x$ 的 $A$ 为 $A_x$ , 没有出现 $x$的 $A$ 为 $A_y$</p>
<ul>
<li>当 $A_x$ 和 $A_y$ 合一起的时候, $x$ 对答案的贡献为1, 总共贡献为 $A_x个数\times A_y个数$ </li>
<li>当两个不同时刻的 $A_x$ 合在一起的时候, 因为去重之后还是会剩下一个 $x$ 所以 $x$ 对答案的贡献仍为1, 总共贡献为 $\Large\frac{A_x个数\times (A_x个数-1)}{2}$</li>
</ul>
<p>综上, $x$ 的总贡献就是上述两式相加</p>
<p>因为 $A$ 内元素各不相同, 所以以上两种情况中不会出现同一时刻的数组合在一起的情况, 大可以放心</p>
<p>那我们的思路就是: 统计每个 $x$ 的出现次数, 然后根据公式就可以计算出答案</p>
<p>提供一种统计每个 $x$ 出现次数的方法: $last_x$ 是 $x$ 上一次出现的时刻 $i$ , $last_x&#x3D;0$ 表示初时刻就出现了, $last_x&#x3D;-1$ 表示还没出现. 当某一时刻 $j$ 要让本来是 $x$ 的位置变成别的数的时候, 我们不难发现 $j-i$ 就是 $x$ 的出现次数了, 又因为是靠不同来更新的, 所以要记得扫尾</p>
<p><strong>!</strong>: 如果所有时刻所有数都不同, ans 可能会到 $n\times m$ 即 $4\times10^{10}$ 量级, 保险起见用long long存</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">4e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> a[N], cnt[N], last[N];		<span class="comment">// 数组现状, 数字出现次数, 某数字的出现位置</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n, m; cin &gt;&gt; n &gt;&gt; m;	<span class="comment">//n是数组长度 m是时刻</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n + m; i++) cnt[i] = <span class="number">0</span>, last[i] = <span class="number">-1</span>;	<span class="comment">// 多例要清空</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i], last[a[i]] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> p, y; cin &gt;&gt; p &gt;&gt; y;</span><br><span class="line">			<span class="keyword">if</span> (a[p] != y)</span><br><span class="line">			&#123;</span><br><span class="line">				cnt[a[p]] += i - last[a[p]], last[a[p]] = <span class="number">-1</span>;	<span class="comment">// 别忘记更新x的last出现位置</span></span><br><span class="line">				<span class="comment">// 更新数组a和last</span></span><br><span class="line">				a[p] = y, last[y] = i;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 别忘记扫尾</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n + m; i++) </span><br><span class="line">            <span class="keyword">if</span> (last[i] != <span class="number">-1</span>) cnt[i] += m - last[i] + <span class="number">1</span>;	<span class="comment">// 是m 别写成n了</span></span><br><span class="line"></span><br><span class="line">		LL ans = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n+m; i++)	<span class="comment">// 这里不能遍历1到9, 因为是根据n+m来清空的, 只能遍历到n+m</span></span><br><span class="line">		&#123;</span><br><span class="line">			ans += cnt[i] * <span class="built_in">LL</span>(m + <span class="number">1</span> - cnt[i]);</span><br><span class="line">			ans += <span class="built_in">LL</span>(cnt[i] - <span class="number">1</span>) * cnt[i] / <span class="number">2</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1789A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1789A/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-02 14:46:46" itemprop="dateModified" datetime="2023-10-02T14:46:46+08:00">2023-10-02</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Serval-and-Mocha’s-Array"><a href="#Serval-and-Mocha’s-Array" class="headerlink" title="Serval and Mocha’s Array"></a>Serval and Mocha’s Array</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>对于一个正整数数组 $ a $ ，如果 $ a $ 中所有元素的最大公约数不超过其长度，那么这个数组就是<strong>好</strong>的。</p>
<p>对于一个至少有 $ 2 $ 个正整数的数组，如果其长度不小于 $ 2 $ 的所有前缀都是好的，那么这个数组就是<strong>完美</strong>的。</p>
<p>例如：</p>
<ul>
<li>$ [3,6] $ 不好，因为$ \gcd(3,6)&#x3D;3 $大于其长度 $ 2 $ 。</li>
<li>$ [1,2,4] $ 既好又完美，因为其长度不小于 $ 2 $ 的所有前缀，即 $ [1,2] $ 和 $ [1,2,4] $ ，都是好的。</li>
<li>$ [3,6,1] $ 好但不完美，因为$ [3,6] $ 不好。</li>
</ul>
<p>给定一个含有 $ n $ 个正整数的数组，请你判断数组 $ a $ 是否可以<strong>通过重新排列 $ a $ 中的元素</strong>而<strong>变得完美</strong>。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>Mocha likes arrays, and Serval gave her an array consisting of positive integers as a gift.</p>
<p>Mocha thinks that for an array of positive integers $ a $ , it is good iff the <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Greatest_common_divisor">greatest common divisor</a> of all the elements in $ a $ is no more than its length. And for an array of at least $ 2 $ positive integers, it is beautiful iff all of its prefixes whose length is no less than $ 2 $ are good.</p>
<p>For example:</p>
<ul>
<li>$ [3,6] $ is not good, because $ \gcd(3,6)&#x3D;3 $ is greater than its length $ 2 $ .</li>
<li>$ [1,2,4] $ is both good and beautiful, because all of its prefixes whose length is no less than $ 2 $ , which are $ [1,2] $ and $ [1,2,4] $ , are both good.</li>
<li>$ [3,6,1] $ is good but not beautiful, because $ [3,6] $ is not good.</li>
</ul>
<p>Now Mocha gives you the gift array $ a $ of $ n $ positive integers, and she wants to know whether array $ a $ could become beautiful by reordering the elements in $ a $ . It is allowed to keep the array $ a $ unchanged.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1\leq t\leq 500 $ ). The description of the test cases follows.</p>
<p>The first line of each test case contains a single integer $ n $ ( $ 2\leq n\leq 100 $ ) — the length of array $ a $ .</p>
<p>The second line of each test case contains $ n $ integers $ a_1,a_2,\ldots,a_n $ ( $ 1\leq a_1,a_2,\ldots,a_n\leq 10^6 $ ) — the elements of array $ a $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, print Yes if it is possible to reorder the elements in $ a $ to make it beautiful, and print No if not.</p>
<p>You can output Yes and No in any case (for example, strings yEs, yes, Yes and YES will be recognized as a positive response).</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">2</span><br><span class="line">3 6</span><br><span class="line">3</span><br><span class="line">1 2 4</span><br><span class="line">3</span><br><span class="line">3 6 1</span><br><span class="line">3</span><br><span class="line">15 35 21</span><br><span class="line">4</span><br><span class="line">35 10 35 14</span><br><span class="line">5</span><br><span class="line">1261 227821 143 4171 1941</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br><span class="line">No</span><br><span class="line">Yes</span><br><span class="line">Yes</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>首先我们要明确, 数越多, 对于 $gcd$ 越严格, 换句话说就是数越多, $gcd$ 只可能越来越小, 如果 $gcd(a_1, a_2, a_3….a_n)&#x3D;k$, 那么 $k$ 只会小于等于 $gcd(ai, aj)$ , 反过来也就是说 <strong>对于一段序列 $p$ 如果 $p$ 的 $\large gcd &#x3D; k$, 就不存在 $\large gcd(p_i, p_j)&lt;k$</strong> , 因为gcd不可能变大只可能变小</p>
<p>定义一段序列为好当且仅当这段序列的 $gcd$ 小于等于序列长度, 无论如果都要解决长度为2的前缀, 所以我们需要两个数的 $gcd\le2$ , 又因为当序列变长时 $gcd$ 有不增加的性质, 所以如果有两个数的 $gcd&#x3D;2$ , 把他们放到开头, 就能保证序列 a 是完美的, 反之如果不存在这样两个数, 那么序列就不可能完美</p>
<p>本题虽然不难, 但是能帮助我更好的理解 <strong>最大公因数</strong> 的一些性质</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="type">int</span> f[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">gcd</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123; <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a % b) : a; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span> (t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">			cin &gt;&gt; f[i];</span><br><span class="line">		<span class="type">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">gcd</span>(f[i], f[j]) &lt;= <span class="number">2</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					flag = <span class="literal">true</span>; <span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (flag) cout &lt;&lt; <span class="string">&quot;yes\n&quot;</span>;</span><br><span class="line">		<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;no\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1788B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1788B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-07 09:26:10" itemprop="dateModified" datetime="2023-10-07T09:26:10+08:00">2023-10-07</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Sum-of-Two-Numbers"><a href="#Sum-of-Two-Numbers" class="headerlink" title="Sum of Two Numbers"></a>Sum of Two Numbers</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>给定一个 $n$，选取任意满足条件的两个非负整数 $x,y$ ,使得 $x,y$ 满足如下条件：</p>
<ul>
<li>$x+y&#x3D;n$</li>
<li>$x,y$ 的各位数字之和相差不超过 $1$</li>
</ul>
<p>多测，共有 $T$ 组数据。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>The sum of digits of a non-negative integer $ a $ is the result of summing up its digits together when written in the decimal system. For example, the sum of digits of $ 123 $ is $ 6 $ and the sum of digits of $ 10 $ is $ 1 $ . In a formal way, the sum of digits of $ \displaystyle a&#x3D;\sum_{i&#x3D;0}^{\infty} a_i \cdot 10^i $ , where $ 0 \leq a_i \leq 9 $ , is defined as $ \displaystyle\sum_{i&#x3D;0}^{\infty}{a_i} $ .</p>
<p>Given an integer $ n $ , find two non-negative integers $ x $ and $ y $ which satisfy the following conditions.</p>
<ul>
<li>$ x+y&#x3D;n $ , and</li>
<li>the sum of digits of $ x $ and the sum of digits of $ y $ differ by at most $ 1 $ .</li>
</ul>
<p>It can be shown that such $ x $ and $ y $ always exist.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 10,000 $ ).</p>
<p>Each test case consists of a single integer $ n $ ( $ 1 \leq n \leq 10^9 $ )</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, print two integers $ x $ and $ y $ .</p>
<p>If there are multiple answers, print any.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">1</span><br><span class="line">161</span><br><span class="line">67</span><br><span class="line">1206</span><br><span class="line">19</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 0</span><br><span class="line">67 94</span><br><span class="line">60 7</span><br><span class="line">1138 68</span><br><span class="line">14 5</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>考虑 n 为偶数的情况, 直接拆成两个一样的就行了</p>
<p>考虑 n 为奇数的情况, 一开始我也是想着拆成两个一样的然后其中一个 +1 即可, 但是忽略了如果末位是9的话会有进位, 那就分为两种情况, n&#x2F;2(向下取整) 末尾不是9, 不会进位, 我们直接就找到答案</p>
<p>那如果末位是9呢, 如果连着末尾有一大串的9呢, 那我们此时发现 n&#x2F;2 + 1 会比 n&#x2F;2 的第一个不是9的位记为 k (从低位往高位数)多1, 又发现9可以拆成4和5, 刚好差值也是1, 我们可以让 n&#x2F;2 后边连着的9变成0, 就是减去这些数, 然后让5和4交替分配给 n&#x2F;2 + 1 和 n&#x2F;2(改变后的) 即可, 要记得此时 n&#x2F;2 + 1 的第 k 位可是比 n&#x2F;2 多1, 所以 n&#x2F;2 分到的5应该尽可能比 n&#x2F;2 + 1 分到的要多一个即可</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="type">int</span> n; cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">0</span>) cout &lt;&lt; n / <span class="number">2</span> &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; n / <span class="number">2</span> &lt;&lt; endl;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			<span class="type">int</span> t = (n - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span>(t % <span class="number">10</span> != <span class="number">9</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; t &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; t + <span class="number">1</span> &lt;&lt; endl;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> len = <span class="number">0</span>, tmp = t, q = <span class="number">0</span>;</span><br><span class="line">				<span class="keyword">while</span>(tmp)	<span class="comment">//取出后边那一串连续的9</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span>(tmp % <span class="number">10</span> == <span class="number">9</span>) q = q * <span class="number">10</span> + <span class="number">9</span>, len++;</span><br><span class="line">					<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">					tmp /= <span class="number">10</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="type">int</span> a = t - q, b = t + <span class="number">1</span>;</span><br><span class="line">				<span class="type">int</span> u = <span class="number">0</span>;	<span class="comment">//u是要分给 n/2 的, 要多给一个5给它</span></span><br><span class="line">				<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">1</span>; i &lt;= len; i++)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span>(i &lt;= (len + <span class="number">1</span>) / <span class="number">2</span>) u = u * <span class="number">10</span> + <span class="number">5</span>;	<span class="comment">//向上取整</span></span><br><span class="line">					<span class="keyword">else</span> u = u * <span class="number">10</span> + <span class="number">4</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				a += u, b += (q - u);</span><br><span class="line">				cout &lt;&lt; a &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; b &lt;&lt; endl;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1786B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1786B/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-08 22:30:17" itemprop="dateModified" datetime="2023-10-08T22:30:17+08:00">2023-10-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Cake-Assembly-Line"><a href="#Cake-Assembly-Line" class="headerlink" title="Cake Assembly Line"></a>Cake Assembly Line</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><p>有一个无限长的传送带，传送带上有 $n$ 个蛋糕，天花板上有 $n$ 个喷嘴。一开始每个蛋糕中心的位置是 $a_i$，宽度是 $2w$（也就是这个蛋糕占据的空间是 $[a_i-w,a_i+w]$）；每个喷嘴中心位置是 $b_i$，宽度是 $2h$。</p>
<p>你可以随意移动传动带，但蛋糕间的相对位置不会改变，并且喷嘴的位置也不会发生变化。问能不能通过转动传送带的方式，使得每个喷嘴下面都有一个蛋糕，每个蛋糕上面都有一个喷嘴，并且喷嘴挤出的奶油不会掉到传动带上。</p>
<p>多组数据。</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>A cake assembly line in a bakery was once again optimized, and now $ n $ cakes are made at a time! In the last step, each of the $ n $ cakes should be covered with chocolate.</p>
<p>Consider a side view on the conveyor belt, let it be a number line. The $ i $ -th cake occupies the segment $ [a_i - w, a_i + w] $ on this line, each pair of these segments does not have common points. Above the conveyor, there are $ n $ dispensers, and when a common button is pressed, chocolate from the $ i $ -th dispenser will cover the conveyor segment $ [b_i - h, b_i + h] $ . Each pair of these segments also does not have common points.</p>
<p>Cakes and dispensers corresponding to the first example.The calibration of this conveyor belt part has not yet been performed, so you are to make it. Determine if it’s possible to shift the conveyor so that each cake has some chocolate on it, and there is no chocolate outside the cakes. You can assume that the conveyour is long enough, so the cakes never fall. Also note that the button can only be pressed once.</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 10^5 $ ). The description of the test cases follows.</p>
<p>The first line of each test case contains three integers $ n $ , $ w $ , and $ h $ ( $ 1 \le n \le 10^5 $ ; $ 1 \le w, h \le 10^5 $ ; $ h \le w $ ) — the number of cakes and dispensers, as well as the halfwidths of cakes and segments on which the chocolate is dispensed.</p>
<p>The second line contains $ n $ integers $ a_1 $ , $ a_2 $ , …, $ a_n $ ( $ 1 \le a_i \le 10^9 $ ) — the positions of the cakes centers. It is guaranteed that $ a_i + w &lt; a_{i + 1} - w $ for all $ i $ .</p>
<p>The third line contains $ n $ integers $ b_1 $ , $ b_2 $ , …, $ b_n $ ( $ 1 \le b_i \le 10^9 $ ) — the positions of the dispensers. It is guaranteed that $ b_i + h &lt; b_{i + 1} - h $ for all $ i $ .</p>
<p>It is guaranteed that the sum of $ n $ over all test cases does not exceed $ 10^5 $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case output “YES”, if it’s possible to shift the conveyor in such a way that each cake ends up with some chocolate, and no chocolate is outside the cakes, and “NO” otherwise.</p>
<p>You can output the answer in any case (upper or lower). For example, the strings “yEs”, “yes”, “Yes”, and “YES” will be recognized as positive responses.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3 10 5</span><br><span class="line">65 95 165</span><br><span class="line">40 65 145</span><br><span class="line">5 2 1</span><br><span class="line">1 6 11 16 21</span><br><span class="line">4 9 14 19 24</span><br><span class="line">3 3 2</span><br><span class="line">13 22 29</span><br><span class="line">5 16 25</span><br><span class="line">4 4 1</span><br><span class="line">27 36 127 136</span><br><span class="line">35 50 141 144</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">YES</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>我一开始担心说会不会不是一个蛋糕对应一个喷嘴, 也就是会不会有一个蛋糕的一部分和另一个蛋糕的一部分被同一个喷嘴占用</p>
<p>但是我们要注意题目说了, 任意两个蛋糕的区间没有相同的点, 也就是说相邻两个蛋糕, 前一个右边界和后一个的左边界之间至少空了1, 如果这两个占用一个喷头, 那肯定会有巧克力没有喷在蛋糕上</p>
<p>所以我们可以明确了, 一个蛋糕占用一个喷嘴, 那么一对对应了的蛋糕的喷嘴之间会有什么关系呢? 一个蛋糕再怎么移动, 他的左边界也不能超过对应喷嘴的左边界, 不然巧克力就会洒出来, 而且蛋糕的右边界应该大于等于对应喷嘴的左边界, 要达到右边界的要求, 我们肯定希望位移尽可能大, 越大越容易满足</p>
<p>所以我们可以考虑蛋糕最多可以往右移动多少, 这个是由喷嘴和蛋糕的左边界决定的, 记为k, 为了使所有蛋糕移动都合法, 我们要找出所有蛋糕中k的最小值, 并对所有蛋糕向右移动k的距离, 然后我们遍历右边界, 看是否合法, 如果所有蛋糕在左边界合法的情况下向右移动了最大的距离时, 右边界仍有不合法, 此时就肯定无解, 反之就有解</p>
<p>这种解法的时间复杂度是 $O(n)$, 是 $10^5$ </p>
<p><strong>!</strong>: 因为数组元素到了 $10^9$ 量级, 保险起见我们开long long去存</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> ll;</span><br><span class="line">ll cake[N], cho[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> t; cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		ll n, w, h; cin &gt;&gt; n &gt;&gt; w &gt;&gt; h;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; cake[i];</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) cin &gt;&gt; cho[i];</span><br><span class="line">		ll minn = <span class="number">1e9</span>;	<span class="comment">//最多能向右移动多少</span></span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			minn = <span class="built_in">min</span>(minn, cho[i] - h - (cake[i] - w));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="type">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			ll t = cake[i] + w + minn;</span><br><span class="line">			<span class="keyword">if</span>(t &lt; cho[i] + h)	<span class="comment">//还不能满足就是无解了</span></span><br><span class="line">			&#123;</span><br><span class="line">				flag = <span class="literal">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span>(flag) cout &lt;&lt; <span class="string">&quot;YES\n&quot;</span>;</span><br><span class="line">		<span class="keyword">else</span> cout &lt;&lt; <span class="string">&quot;NO\n&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/10/13/CF1784A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
      <meta itemprop="name" content="beishangeyu">
      <meta itemprop="description" content="��ʵ�Ǿ�ֽ">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Eyu's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2023/10/13/CF1784A/" class="post-title-link" itemprop="url">未命名</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-10-13 21:27:52" itemprop="dateCreated datePublished" datetime="2023-10-13T21:27:52+08:00">2023-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-10-08 15:47:03" itemprop="dateModified" datetime="2023-10-08T15:47:03+08:00">2023-10-08</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Monsters-easy-version"><a href="#Monsters-easy-version" class="headerlink" title="Monsters (easy version)"></a>Monsters (easy version)</h1><h2 id="题面翻译"><a href="#题面翻译" class="headerlink" title="题面翻译"></a>题面翻译</h2><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>你正在打游戏。</p>
<p>现在有 $n$ 只怪物，第 $i$ 只有 $a_i$ 点血。</p>
<p>你当然要把它们打死。你有两种攻击方式：</p>
<ol>
<li>选取任意一只怪物，扣除它 $1$ 点血。这种攻击方式可以无限次使用。</li>
<li>使所有怪物各扣除 $1$ 点血，如果有怪物被这次攻击「杀死」了，就立即再进行一次这种攻击。<strong>注意，这种攻击方式每局只能用一次。</strong></li>
</ol>
<p>其中，「杀死」一只怪物需要让它的血量小于等于 $0$。被「杀死」的怪物立即退出游戏。</p>
<p>你要求出「杀死」所有怪物使用攻击方式 1 的最小次数。</p>
<p><strong>本题有多组数据。</strong></p>
<p>第一行，一个整数 $t(t\leq10^4)$，代表数据组数。</p>
<p>每组数据包含两行。第一行，一个整数 $n$，代表怪物数。第二行，$n$ 个整数 $a_i$，代表每只怪物的血量。</p>
<p>保证 $1\leq n\leq2\cdot10^5,\sum n\leq 2\cdot10^5,1\leq a_i\leq n$。</p>
<h2 id="题目描述-1"><a href="#题目描述-1" class="headerlink" title="题目描述"></a>题目描述</h2><p>This is the easy version of the problem. In this version, you only need to find the answer once. In this version, hacks are not allowed.</p>
<p>In a computer game, you are fighting against $ n $ monsters. Monster number $ i $ has $ a_i $ health points, all $ a_i $ are integers. A monster is alive while it has at least $ 1 $ health point.</p>
<p>You can cast spells of two types:</p>
<ol>
<li>Deal $ 1 $ damage to any single alive monster of your choice.</li>
<li>Deal $ 1 $ damage to all alive monsters. If at least one monster dies (ends up with $ 0 $ health points) as a result of this action, then repeat it (and keep repeating while at least one monster dies every time).</li>
</ol>
<p>Dealing $ 1 $ damage to a monster reduces its health by $ 1 $ .</p>
<p>Spells of type 1 can be cast any number of times, while a spell of type 2 can be cast at most once during the game.</p>
<p>What is the smallest number of times you need to cast spells of type 1 to kill all monsters?</p>
<h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>Each test contains multiple test cases. The first line contains the number of test cases $ t $ ( $ 1 \le t \le 10^4 $ ). The description of the test cases follows.</p>
<p>Each test case consists of two lines. The first line contains a single integer $ n $ ( $ 1 \le n \le 2 \cdot 10^5 $ ) — the number of monsters.</p>
<p>The second line contains $ n $ integers $ a_1, a_2, \ldots, a_n $ ( $ 1 \le a_i \le n $ ) — monsters’ health points.</p>
<p>It is guaranteed that the sum of $ n $ over all test cases does not exceed $ 2 \cdot 10^5 $ .</p>
<h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>For each test case, print a single integer — the smallest number of times you need to cast spells of type 1 to kill all monsters.</p>
<h2 id="样例-1"><a href="#样例-1" class="headerlink" title="样例 #1"></a>样例 #1</h2><h3 id="样例输入-1"><a href="#样例输入-1" class="headerlink" title="样例输入 #1"></a>样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">3 1 2</span><br><span class="line">6</span><br><span class="line">4 1 5 4 1 1</span><br></pre></td></tr></table></figure>

<h3 id="样例输出-1"><a href="#样例输出-1" class="headerlink" title="样例输出 #1"></a>样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>操作2让每个怪物血量-1, 每次只要有一个怪物血量被减到0, 操作二就会重复进行, 直到没有怪物因为操作二死亡, 我们很直观的可以感受到操作二是很值当的一个操作</p>
<p>通过观察可以发现, 比如对于序列 1 2 3 4 5, 操作二会进行 5 + 1 次也就是6次, 那我们可以发现, 如果我们有一个以1开头且相邻元素的差值小于等于1的非递减序列, 我们操作二一共可以进行 (1 + 序列长度) 次, 因为操作二很值当, 我们希望操作二尽可能地进行得多一点, 那我们就希望可以有尽可能长的这样的序列, 为了方便叙述把这种序列称为<strong>好</strong>序列</p>
<p>构建这样的好序列是否会优于不构建这样的序列呢, 我们举个例子看看, 比如 1 2 3 5 6 7 这个序列, 如果不构建好序列, 需要进行几次操作1呢? 先进行一次操作二, 1 2 3没了然后5 6 7变成1 2 3, 需要6次操作1; 如果构建好序列, 5变成4, 6变成5, 7变成6, 只需要进行3次操作一, 明显构建好序列是优于不构建好序列的</p>
<p>那我们思路就是: 求出需要多少次操作1使得整个序列变成一个<strong>好</strong>序列</p>
<p>具体做法是, 先对序列排序, 然后从头开始遍历, cost记录所有的操作1的操作次数, last记录上一个数是什么, lastcost记录对上一个数进行了几次操作1, 注意cost和lastcost最小也就是0, 然后当前数 cur 需要的操作1的次数 &#x3D; cur - last + lastcost - 1(要让操作1尽可能少, 上一个数变成2, 这个数就可以变成3, 所以代价会少1).</p>
<p><strong>!</strong>: 考虑最坏情况每个数都是 $2\times10^5$ , 然后要变成从1到k, 粗略计算代价是 $2\times10^5\times2\times10^5$ , 是会爆int的, 要用long long存</p>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">long</span> <span class="type">long</span> LL; </span><br><span class="line">LL t, n, a[N];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>), cin.<span class="built_in">tie</span>(<span class="number">0</span>), cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">while</span>(t--)</span><br><span class="line">	&#123;</span><br><span class="line">		cin &gt;&gt; n;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i ++) cin &gt;&gt; a[i];</span><br><span class="line">		<span class="built_in">sort</span>(a, a + n);</span><br><span class="line">		LL cost = <span class="number">0</span>, last = <span class="number">-1</span>, lastcost = <span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span>(!a[i]) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="comment">//找到第一个非0的数</span></span><br><span class="line">			<span class="keyword">if</span>(last == <span class="number">-1</span> &amp;&amp; lastcost == <span class="number">-1</span>) last = a[i], lastcost = <span class="built_in">max</span>(<span class="number">0ll</span>, a[i] - <span class="number">1</span>), cost += </span><br><span class="line">                lastcost;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				LL t = a[i] - last + lastcost - <span class="number">1</span>; t = t &lt; <span class="number">0</span> ? <span class="number">0</span> : t; <span class="comment">//次数最小就是0</span></span><br><span class="line">				cost += t;</span><br><span class="line">				last = a[i], lastcost = t; </span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; cost &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="beishangeyu"
      src="/images/%E6%82%B2%E4%BC%A4%E9%B3%84%E9%B1%BC.jpg">
  <p class="site-author-name" itemprop="name">beishangeyu</p>
  <div class="site-description" itemprop="description">��ʵ�Ǿ�ֽ</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">58</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/beishangeyu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;beishangeyu" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">beishangeyu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.pisces</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/three-waves.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>
    <script defer src="/lib/three/canvas_sphere.min.js"></script>


  















  

  

  

</body>
</html>
